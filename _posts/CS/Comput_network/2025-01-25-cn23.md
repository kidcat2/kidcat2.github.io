---
title: "컴퓨터 네트워크 #23"
date: 2023-8-05 +0000
categories: [Major, Computer Network]
tags: [컴퓨터 네트워크, Computer Network]
math: true
published : true
---

---
## 목차 - LAN

1. LAN 토폴로지
2. LAN 프로토콜
3. 브리지

---

### **LAN 토폴로지**

LAN 이란 단일 건물같은 가까운 거리에 위치하는 호스트로 구성된 네트워크이다.

호스트 간격이 가깝기 때문에 브로드캐스트 방식으로 데이터를 전송한다. 

호스트 연결 방식에는 버스형과 링형, 스타형이 있다

통신 네트워크에서 토폴리지는 단말이나 스테이션 등이 상호 연결된 '네트워크 연결 형태'를 의미한다. 

위에 언급된 버스형 링형 스타형이 토폴로지 이다.

1. **버스형**

    버스 토폴로지에서는 모슨 스테이션(단말)이 탭 이라고 불리는 인터페이스 하드웨어를 통하여 버스에 직접 부착된다. 
    
    버스로 데이터를 보내거나 수신받을 수 있다(양방향). 
    
    공유 버스 하나에 여러 호스트들이 직접 연결되어 있으며, 물리적으로 전송매체를 공유한다.

    브로드 캐스팅 방식으로 동작하며 목적지 정보를 통해 호스트들이 자신이 받는 메시지가 맞는지 알 수 있기 때문에, 라우팅을 할 필요가 없다. 
    
    목적지 호스트가 아닌 호스트들은 데이터를 폐기해버린다.

    하나의 공유버스를 이용하기 때문에, 두 호스트가 동시에 데이터를 전송할 경우 데이터가 공유버스에서 충돌 할 가능성이 있다. 
    
    이를 방지하기 위해 충돌 가능성 자체를 차단하는 사전 방지 기능과, 사후 해결 방법이 존재한다.

    ![Desktop View](/assets/img/Com-Net/90.png)

    <BR>

2. **링형**

    전송 호스트의 연경리 점대점 순환 구조를 이룬다. 

    데이터는 시계/반시계 중 정해진 방향으로 전송되며 특정 호스트에 전송한 데이터는 반드시 링을 한 바퀴 돈 후, 송신 호스트로 되돌아오도록 설계되어 있다. 

    송신 호스트는 돌아온 데이터를 네트워크에서 회수한다.

    버스형과 마찬가지로 데이터 충돌이 발생할 수 있으며, 토큰이라는 제어 프레임으로 충돌 가능성을 사전 차단할 수 있다. 

    토큰 방식은, 토큰을 가진 호스트만 전송할 수 있게 하는 방법이다. 

    토큰은 네트워크에 하나만 존재하며, 모든 호스트가 동등한 시간만큼 토큰을 가지도록 설계되어있다.

    ![Desktop View](/assets/img/Com-Net/91.png)

    <br>

3. **스타형**

    각 호스트가 하나의 중앙 노드에 직접 연결되어있다. 
    
    중앙 노드는 두 가지 방법으로 동작한다. 
    
    첫 번째는 브로드캐스트 방식으로 동작하는 것인데, 한 호스트에서 데이터를 보내면 다른 모든 호스트에 이 데이터를 브로드 캐스트하는 방식이다. 
    
    이 때 중앙 노드를 '허브'라고 부른다.

    두 번째 방법은 중앙 노드가 프레임 교환장치 역할을 하는 것이다. 
    
    들어오는 프레임은 노드의 버퍼에 저장하고 목적지 스테이션으로 나가는 링크로만 내보낸다.

    ![Desktop View](/assets/img/Com-Net/92.png)

    <br>

### **LAN 프로토콜**

LAN 은 근거리 통신망으로 가장 중요한 기능은 높은 전송 속도이다. 

따라서 효율적인 전송 관리를 통해 네트워크 효율을 극대화 해야한다.

LAN 에서 자주 언급되는 IEEE 802 는 LAN 환경의 데이터 링크 계층에 대한 표준안을 의미한다. 

다음 그림을 통해 좀 더 쉽게 이해할 수 있다.

![Desktop View](/assets/img/Com-Net/93.png)

![Desktop View](/assets/img/Com-Net/94.png)

LAN 은 WAN과 다르게 데이터 링크 계층이 `LLC/MAC` 계층으로 분리되어 있다. 이는 네트워크 자원의 효율적 활용이 목적이다. 

`LLC`( Logical link control)는 논리적 링크 제어라는 뜻으로, 일반적인 데이터 링크 계층의 기본 기능과 관련이 있다.

`MAC`(media access control)은 매체 접속 제어라는 뜻으로, 물리적인 전송 선로의 특징과 매체 간의 연결 방식에 따른 제어와 관련되어 있다.

1. **LLC**

    - WAN 의 데이터 링크 계층과 기능이 유사하며, 오류/흐름제어가 가능하다
    - LAN 의 특성에 부분적으로 영향을 받는다.
    - CSMA/CD 에서의 LLC : 슬라이딩 윈도우 프로토콜 사용
    - 토큰 링/버스에서의 LLC : 슬라이딩 윈도우 프로토콜 불필요
    (송신 호스트가 수신 호스트의 도움 없이 전송 오류를 검출하고 재전송 가능하기 때문)

    <br>

2. **MAC**

    - 전송 선로의 물리적인 특성을 반영하며, 그림과 같이 LAN 종류에 따라 특성이 구분된다.
    - 각 LAN 종류(CSMA/CD, 토큰 버스,토큰 링 ) 에 대해서는 `24장`에서 다룬다.

    <br>

### **브리지**

결국 LAN 도 단일로만 사용하는 게 아니라 확장되어 다른 LAN 이나 WAN과 연결되어야 한다. 

연결하는 두 가지 방법이 `브리지`와 `라우터`를 사용하는 것이다. 

브리지는 같은 종류의 LAN 을 연결하는데 유용하며 라우터는 좀 더 범용적으로, LAN과 WAN을 연결하는데 유용하다. 

라우터에 대해서는 `5장` 에서 언급된다.

브리지는 물리와 링크계층에서 같은 프로토콜을 사용하는 LAN을 연결하는데 주로 사용되지만, 다른 LAN을 연결하는데 사용되기도 한다. 

따라서 양쪽 LAN이 모두 이더넷을 사용하면(같은 프로토콜) 프레임 헤더를 해석하는 간단한 작업을 통해 쉽게 중개할 수 있지만, LAN 종류가 다르면 프레임 변환 등의 과정이 필요하다.

(쉽게 말하자면, `LAN 헤더`(= 프로토콜 or 종류 라고 이해해도 상관없다.) 가 다르면, LAN 헤더를 갈아 끼워서 서로 맞춰주는 역할을 한다. )

동작 방식에 따라 `트랜스페런트 브리지`와 `소스 라우팅 브리지`로 구별한다.

1. **트랜스페런트 브리지**

    - 라우팅 기능이 투명하다.(브리지가 라우팅을 담당한다.)
    - 호스트는 헤더에 라우팅 정보를 쓸 필요가 없다.(브리지가 하므로)
    - 공유 버스, 토큰 버스 방식에서 사용된다.
    - 임의의 LAN 에서 브리지로 프레임이 도착하면, 송수신 호스트가 동일할 경우 프레임을 중개하지 않고, 다르면 수신 호스트가 있는 방향으로 프레임을 중개한다.

    ![Desktop View](/assets/img/Com-Net/95.png)

    브리지가 라우팅을 하기 위해서는, 라우팅 테이블을 가지고 있어야 한다.

    <h4 style="text-align:center;">라우팅 테이블</h4>

    - LAN 동작 시 자동 생성된다.
    - 초기에는 라우팅 테이블이 없기 때문에, 플러딩 방식으로 데이터를 전달한다.
    - 플러딩 방식으로 데이터를 전달하면서, 프레임의 송신 호스트 주소와 포트 번호를 라우팅 테이블에 갱신한다. 먼저 데이터를 송신하고, 라우팅 테이블을 갱신하기 때문에 이를 역방향 학습 알고리즘 이라고 한다.
    - 호스트 위치가 변경 시 라우팅 테이블을 갱신해야한다.

    이러한 방식으로 라우팅 테이블을 갱신하면, 이중 경로에 의한 잘못된 라우팅 정보가 갱신될 수 있다.

    아래 그림이 잘못된 라우팅 정보가 갱신된 예이다.

    ![Desktop View](/assets/img/Com-Net/96.png)

    위 그림과 같은 상황이 되면, 수신 호스트의 주소가 A인 프레임의 경우, 전송하면 네트워크를 순환하게 된다.

    이를 해결하기 위한 방법이 `스패닝 트리`이다.

    <h4 style="text-align:center;">스패닝 트리</h4>

    - 임의의 브리지를 최상위 브리지인 `루트` 로 지정한다.( 루트를 지정하는 방식은 설계에 따라 다르다.)
    - 루트 브리지에서 다른 모든 브리지까지의 최단 경로를 트리로 구성한다.

    <br>
​
2. **소스 라우팅 브리지**

    - 링 구조에서 사용된다.
    - 호스트에서 라우팅 정보를 제공한다.(트랜스패런트 브리지는 브리지에서 제공)
    - 송신 프레임 내부에 수신 호스트에 도달하기 위한 모든 경로를 기술한다. (송신 호스트에서 라우팅을 해야하므로)
    - 프레임을 수신한 브리지는 해당 정보를 이용해 경로를 배정한다.