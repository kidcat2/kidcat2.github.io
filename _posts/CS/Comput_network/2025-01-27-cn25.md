---
title: "컴퓨터 네트워크 #25"
date: 2023-8-07 +0000
categories: [Major, Computer Network]
tags: [컴퓨터 네트워크, Computer Network]
math: true
published : true
---

---
## 목차 - LAN

1. 허브 및 스위치
2. 무선 LAN 
3. IEEE 802.11

---

### **허브 및 스위치**

![Desktop View](/assets/img/Com-Net/105.png)

1. **허브**

    - 허브는 스타 토폴로지의 중앙에 위치한 능동적인 요소
    - 모든 스테이션은 2개의 송수신선으로 허브와 연결되어 있다.
    - 허브는 한 스테이션에서 송신을 받아서 각 스테이션으로 전달한다.(브로드 캐스트)
    - 물리적으로는 스타형이지만 논리적으로는 버스형과 동일하다.
    - 전체 전송 용량이 100Mbps 로 제한된다.

    <br>

2. **스위치**

    - 브로드캐스트가 아닌 유니캐스트 방식으로 동작한다
    - 여러 호스트가 충돌 없이 동시에 통신 가능하다.
    - 스위치의 전송 용량이 충분하면(버퍼가 충분히 크면) 각 호스트가 할당된 LAN 전송 용량을 모두 사용할 수 있다.

### **무선 랜( WLAN )**

1. **단일 셀 구성**

    ![Desktop View](/assets/img/Com-Net/106.png)

    - CM(control module : 제어모듈) : 무선 랜의 인터페이스로, 백본에 무선 랜을 연결하기 위하 브리지/라우터 기능을 포함하고 있다.
    - 백본(backbone) : 다른 네트워크로 연결하기 위한 유선 LAN
    - UM(User module) : 사용자 모듈이란 뜻으로, 다른 위치의 CM 을 의미한다. CM1 이 바라본 다른 CM2 는 UM 으로 표기한다.
    - 단일 셀 구성이란, 모든 무선 종단 시스템이 한 제어모듈의 통신 범위 안에 있음을 의미한다. 다수의 제어 모듈이 유선 LAN 으로 연결되있는 것을 다중 셀 구성이라고 한다.

    <br>

2. **다중 셀**

    ![Desktop View](/assets/img/Com-Net/107.png)

    - CM 끼리 서로 유선으로 연결되어 있다.
    - CM 별로 자신의 전송 범위 안에서 다수의 무선 호스트를 지원한다.

    <br>

3. **애드 혹( Ad-hoc ) 네트워크**

    ![Desktop View](/assets/img/Com-Net/108.png)

    - CM 이 존재하지 않는다.
    - 각 호스트가 서로의 통신 범위 안에서 동적으로 임시 네트워크를 구성한다.

    <br>
​
4. **무선 LAN 의 요구사항**

    - 유선 LAN 과 공통 요구사항 : 높은 용량, 근거리 통신 지원, 호스트간 완전 연결, 브로드캐스트
    - 처리량 : MAC 프로토콜은 용량의 극대화를 위해 무선 매체를 효율적으로 사용해야 한다
    - 백본 연결성
    - 다수의 셀에 걸쳐 수백 개의 노드를 지원
    - 1~300m 지역을 서비스 해야한다.
    - 전송을 보장하고, 보안성이 높아야 한다.
    - 호스트의 셀간 이동을 지원해야 한다.
    - 동적 구성 : MAC 주소 지정과 네트워크 관리에 있어서 다른 사용자에게 방해를 주지않고 종단 시스템을 자동적으로 추가, 삭제, 재배치 해야한다.

    <br>

### **IEEE 802.11**

IEEE 802.11 이란 무선 LAN을 위해 IEEE 801 위원회에서 개발한 기술이다.

1. **용어**

    ![Desktop View](/assets/img/Com-Net/109.png)

    - 스테이션 : IEEE 802.11 을 따르는 MAC 및 물리 계층이 구현된 장비
    - AP : 무선 매체를 통해 결합된 스테이션을 DS로 연결하는 장비
    - BSS : 단일 조정 기능의 통제를 받는 스테이션 집합
    - 조정 기능 ( C.F ) : BSS 안의 한 스테이션이 언제 PDU를 송수신할 수 있는지 판단하는 논리적 기능
    - DS : 다수의 BSS 및 통합된 LAN을 묶어서 ESS를 구성
    - ESS : 하나 이상의 BSS 및 통합된 LAN을 묶어서 구성 ( DS + BSS + AP )
    - MPDU : 헤더를 포함한 프레임
    - MSDU : 헤더를 미포함하고, 실제 데이터만 포함한 프레임

    <h4 style="text-align:center;">MSDU/MPDU</h4>

    ![Desktop View](/assets/img/Com-Net/110.png)

    <br>

2. **구조**

    ![Desktop View](/assets/img/Com-Net/111.png)

    - BSS : 최소 동작 단위로, 동일 MAC 프로토콜을 사용한다. 공유 매체에 접근하기 위해 서로 경쟁하는 스테이션들로 구성되어 있다.
    - 단독 혹은 AP를 통해 백본 DS에 연결될 수 있다 . AP는 브리지/리피터 기능을 수행한다
    - BSS에서 AP가 있으면 스테이션들은 서로 직접 통신하지 않는다.(스테이션 → AP → 스테이션 으로 통신)
    - BSS 외부로 통신 : AP로 프레임을 전송 → AP 가 목적 방향 DS로 중개 하는 방식으로 통신한다.
    - BSS 는 일반적으로 셀에 해당되고, DS는 스위치 또는 유/무선 네트워크에 해당된다.
    - 독립 BSS : BSS 안의 모든 스테이션이 이동 스테이션이고 다른 BSS와 연결이 없는 BSS를 말한다. 대표적으로 ad-hoc 네트워크가 있다
    - IBSS 에서 모든 스테이션은 AP의 개입없이 독립적으로 통신한다.
    - ESS : DS가 연결한 둘 이상의 BSS 집합으로 구성되어있다.
    - AP : 스테이션의 일부로 구현되고, DS로의 접근 서비스를 제공한다.

    <br>

3. **IEEE 802.11 MAC**

    `신뢰성 있는 데이터 배달`, `접근 제어`, `보안` 등의 기능을 가지고 있다.

    1. **신뢰성 있는 데이터 배달**

        - 무선 환경은 잡음/간섭으로 인해 프레임이 손실되기 때문에 신뢰성이 낮다.
        - TCP 에서 제공하는 방식의 신뢰성을 적용하기에는 타이머가 초 단위로 동작하기 때문에 너무 느리다.
        - 따라서 MAC 에서는 `프레임 교환 프로토콜`을 사용한다.

        <br>
    
    2. **프레임 교환 프로토콜**

        스테이션은 데이터 프레임을 수신하고 나면 송신자에게 ACK 프레임을 전송한다. 
        
        데이터 프레임의 전송과 ACK 프레임의 수신은 다른 스테이션으로부터 방해를 받지 않아야 하므로, 기본적인 프로토콜 동작 단위로 취급된다.
        
        데이터 프레임을 송신한 스테이션은 짧은 시간안에 ACK 신호를 받지 못하면 프레임을 재전송한다.

        1. **2프레임 교환 프로토콜**

            송신측은 데이터를 보내고 ACK 신호를 받는다. ACK 신호를 받지 못하면 프레임을 재전송한다.

            <br>

        2. **4프레임 교환 프로토콜**

            송신 측은 RTS ( 전송요청) 을 보내고, 수신 측은 CTS(전송 승낙)으로 응답한다. 
            
            송신자는 CTS를 받은 후에 데이터 프레임을 전송하고 , 수신측은 데이터 프레임을 다 받았으면 ACK 신호로 응답한다.

            RTS로 송신자는 수신 범위의 모든 스테이션에게 자신이 지금 교환중이라는 알림을 준다. 
            
            이를 인지한 다른 스테이션은 전송을 중지한다. CTS 도 같은 역할을 한다. RTS/CTS 는 비활성화가 가능하다.

            <br>

    3. **매체 접근 제어**

        1. **분산 접근 프로토콜**

            모든 노드가 각자 신호 감지를 수행하고 전송 시점을 결정한다.
            
            Ad-hoc 네트워크와 같은 IBSS 에 유용하고, 간헐적 트래픽 처리에 유리하다.

            <br>

        2. **중앙 집중 접근 프로토콜**

            중앙 노드가 모든 노드의 전송을 규제한다. 
            
            많은 무선 스테이션이 연결되어 있고, 몇 종류의 베이스 스테이션이 백본 유선 LAN에 부착되어 있는 구성에서 사용된다. 
            
            시간에 민감하거나 `QoS`에서 높은 우선순위를 갖는 데이터가 있는 경우에 유용하다.

            802.11 MAC : DFWMAC = 분산 접근(기본) + 중앙 집중 접근(선택)

            <br>

4. **DFWMAC 구조**

    ![Desktop View](/assets/img/Com-Net/112.png)

    1. **DCF**   

        분산 조정 함수, 분산 접근 제어 방식,노드 간 경쟁을 통해 매체 분배, 일반적인 비동기 트래픽은 DCF 사용

        <br>

    2. **PCF**

        시점 조정 함수, 중앙 집중 전근 제어 방식, 노드 간 경쟁 없이 매체 분배, DCF 위에 위치하고 사용자에 대한 접속을 보장하기 위해 DCF 특성을 활용함

        <br>

5. **DCF 에서의 CSMA**

    DCF 는 간단한 CSMA 알고리즘을 사용하고, CSMA/CD 는 사용하지 않는다. 

    그 이유는 CD는 무선 환경에서 비실용적이기 때문인데, CD는 짧은 방해 신호(재밍) 신호를 보내 충돌을 인지시키는 기술인데 무선환경에서 발생하는 잡음들이 이 재밍 신호와 구별되지 않기 때문이다. 

    DCF 에서는 전송 전에 지연시간(IFS) 을 두는 방식을 사용한다.

    <h4 style="text-align:center;">IFS 를 사용하는 CSMA 접근</h4>

    ![Desktop View](/assets/img/Com-Net/113.png)

    1. 프레임을 전송할려는 스테이션은 매체를 감지, 매체가 idle 이면, 스테이션은 `IFS` 만큼의 시간을 대기
    2. `IFS` 만큼 대기 후에서 계속 idle 이면 전송
    3. 만일 매체가 `idle` 이 아니면, 스테이션은 전송을 대기하고 매체를 계속 감지한다.
    4. 3에서 매체가 현재 프레임을 전송하고 idle 상태가 되면, 스테이션은 다시 IFS 동안 매체를 감지한다.
    5. 매체가 이 시간동안 idle 이면 스테이션은 후퇴 타이머를 가동하고 매체를 감지
    6. 후퇴 타이머가 끝날 때까지 매체가 idle 이면 프레임 전송
    7. 매체가 후퇴 타이머 중에 busy 상태가되면 후퇴타이머를 정지, 매체가 다시 idle 이 되면 후퇴 타이머를 재가동
    8. 전송에 성공하지 않았다면 충돌이 일어났다고 판단하고, 전송 실패 시마다 후퇴 타이머를 2배로 증가
    9. 전송 실패 여부는 `ACK` 신호의 수신 여부로 알 수 있음

    <br>

6. **IFS 의 3종류 ( SIFS, PIFS, DIFS )**

    ![Desktop View](/assets/img/Com-Net/114.png)

    1. **SIFS (shortest IFS )**

        가장 높은 우선순위를 가지며, 매체에 가장 일찍 접근한다.

        - 수신 스테이션이 자신의 주소와 일치하는 프레임을 수신한 경우 SIFS 만큼 대기 후 ACK 프레임으로 응답한다.
        - CD를 사용하지 않아 높아진 충돌을 ACK 신호를 통해 효율적인 충돌 복구가 가능하다.
        - RTS 를 수신한 스테이션은 SIFS 이후 CTS 로 응답한다.

        <br>
    
    2. **PIFS**

        PCF 에서 중앙집중 제어기가 poll을 전송하는데 사용한다.

        <br>

    3. **DIFS**

        모든 일반적인 비동기 트래픽에 사용됨.

        우선 순위는 SIFS > PIFS > DIFS 이며, 시간 길이는 DIFS > PIFS > SIFS 순이다.

        <br>

7. **프레임 구조**

    ![Desktop View](/assets/img/Com-Net/115.png)

    - Frame control : 토큰 버스와 유사
    - duration : 채널 할당 시간으로 이 시간 안에 프레임 전송에 성공해야 한다. 해당 프레임의 수신 대상이 아닌 스테이션들은 이 필드를 읽고 해당하는 시간만큼 전송을 멈춘다.
    - Address (주소) : 프레임 유형에 따라 3/4 개의 형태로 채워진다.
    - 주소 종류 : 송수신 스테이션, AP주소, BSS ID
    - SSID : 무선 랜을 식별
    - BSS ID : BSS 를 식별하는 SSID 로 AP의 MAC 수준 주소이다.